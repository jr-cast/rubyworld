<%= render "shared/nav" %>
<div class="d-flex flex-column align-items-center">
  <div 
    class="d-flex flex-column justify-content-between p-4 border border-3 border-danger rounded bg-white"
    style="margin-top: 4em; width: 90%; box-shadow: 0 0 25px 0 rgba(0, 0, 0, 0.2);"
  >
    <div class="d-flex justify-content-between align-items-center">
      <img src=<%= @user.photo %> alt="profile-picture" class="rounded" style="width: 80px; heigth: auto; flex: 1;"/>
      <h2 style="flex: 2; padding-left: 0.5em; margin: 0%;"><%= @post.title %></h2>
    </div> 
    <p class="m-0 mt-2"><%= @post.text %></p>
        <div class="d-flex justify-content-end">
            <% if @post.comments_counter == nil %>
              <% @post.comments_counter = 0 %>
            <% end %>
          <p class="px-2 m-0 text-danger" style="font-weight: bold;">Comments: <%= @post.comments_counter %></p>
            <% if @post.likes_counter == nil %>
              <% @post.likes_counter = 0 %>
            <% end %>
          <p class="px-2 m-0 text-danger" style="font-weight: bold;">Likes: <%= @post.likes_counter %></p>
        </div>
  </div>
  
  <div 
    class="w-100 d-flex flex-column align-items-end px-4 py-2" 
    style="min-height: 40vh;"
  >
    <% @post.recent_comments.each do |comment| %>
    
      <div 
        class="d-flex flex-column w-100 mb-2 rounded p-4 bg-white border border-1 border-light"
        style="list-style: none; box-shadow: 0 0 25px 0 rgba(0, 0, 0, 0.2);"
      >
        <strong><%= User.find(comment.user_id).name %></strong>
        <code><%= comment.created_at %></code>
        <p class="m-0"><%= comment.text %></p>
      </div>
    <% end %>
  </div>
</div>